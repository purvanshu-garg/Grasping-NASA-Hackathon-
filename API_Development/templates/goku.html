<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Exoplanet Prediction</title>

    <!-- shared header styles (your existing file) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylegpt.css') }}">

    <style>
      /* Page basics (don't center the whole page) */
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: url("static/images/milky.jpg") no-repeat center center fixed;
        background-size: cover;
        margin: 0;
      }

      /* Keep space for header and allow content below it */
      .main-content {
        min-height: calc(100vh - 80px); /* leave room for header */
        padding: 24px;
        display: flex;
        justify-content: center;
        align-items: flex-start;
      }

      /* Card */
      .card {
        background: rgba(39, 41, 44, 0.634);
        padding: 20px 22px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        width: 100%;
        max-width: 920px;
        max-height: calc(100vh - 140px); /* keep it inside viewport */
        overflow: auto; /* allow scrolling if too tall */
      }

      h1 {
        color: #ffffff;
        margin: 0 0 8px 0;
        font-size: 1.4rem;
        text-align: center;
      }

      h3 {
        font-weight: 500;
        font-size: 0.95rem;
        color: #ffffff;
        text-align: center;
        margin: 0 0 18px 0;
      }

      /* Form grid: single column on small screens, two on wider */
      .form-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }

      @media (min-width: 760px) {
        .form-grid {
          grid-template-columns: 1fr 1fr;
          gap: 14px 18px;
        }
      }

      .field {
        display: flex;
        flex-direction: column;
      }

      .field label {
        font-weight: 600;
        margin-bottom: 6px;
        color: #ffffff;
        font-size: 0.9rem;
      }

      .field input {
       padding: 8px 10px;
       border-radius: 8px;
       border: 1px solid #ffffff00;
       font-size: 0.95rem;
       background: rgba(16, 17, 26, 0.503); /* semi-transparent dark bg */
       color: #ffffff; /* white text */
      } 

      .field input:focus {
        outline: none;
        border-color: #60a5fa; /* light blue glow */
        box-shadow: 0 0 8px #60a5fa;
        background: rgba(255, 255, 255, 0.2);
      }


      .field input[type="text"] {
        text-transform: none;
      }

      .actions {
        margin-top: 16px;
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .btn-send {
        background: #112152cf;
        color: rgb(255, 255, 255);
        border: none;
        padding: 10px 16px;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
      }

      .btn-send:hover { background: #1e40af; }

      #result {
        margin-top: 14px;
        padding: 10px;
        border-radius: 8px;
        display: none;
        text-align: center;
      }

      #result.success { background:#dcfce7; color:#166534; display:block; }
      #result.error   { background:#fee2e2; color:#991b1b; display:block; }

      /* give the header icons a little top spacing so they don't collide */
      header.menu { position: relative; z-index: 10; }
    </style>
  </head>

  <body>
<header class="menu">
    <div class="container">
      <nav class="nav-bar">
        <!-- Left Side (Home) -->
        <ul class="nav-left">
          <li>
            <a href="{{ url_for('home') }}">
              <img src="{{ url_for('static', filename='images/home-icon.png') }}" alt="Home" class="nav-icon" >
            </a>
          </li>
        </ul>

        <!-- Right Side (Code + About) -->
        <ul class="nav-right">
          <li>
            <a href="https://github.com/purvanshu-garg/Grasping-NASA-Hackathon-">
              <img src="{{ url_for('static', filename='images/code-icon.png') }}" alt="Code" class="nav-icon" >
            </a>
          </li>
          <li>
            <a href="{{ url_for('about') }}">
              <img src="{{ url_for('static', filename='images/about-icon.png') }}" alt="About" class="nav-icon" >
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

    <!-- Main content -->
    <div class="main-content">
      <div class="card" role="region" aria-label="Exoplanet predictor form">
        <h1>Exoplanet Predictor</h1>
        <h3>Enter all parameters (numerical values where required)</h3>

        <div class="form-grid">
          <!-- 1 
          <div class="field">
            <label for="notTransitLike">Not Transit Like False Positive Flag</label>
            <input id="notTransitLike" type="number" step="any" />
          </div>-->

          <!-- 2 
          <div class="field">
            <label for="stellarEclipse">Stellar Eclipse False Positive Flag</label>
            <input id="stellarEclipse" type="number" step="any" />
          </div>-->

          <!-- 3 
          <div class="field">
            <label for="centroidOffset">Centroid Offset False Positive Flag</label>
            <input id="centroidOffset" type="number" step="any" />
          </div>-->

          <!-- 4 
          <div class="field">
            <label for="ephemerisMatch">Ephemeris Match Indicates Contamination False Positive Flag</label>
            <input id="ephemerisMatch" type="number" step="any" />
          </div>-->

          <!-- 5 -->
          <div class="field">
            <label for="orbitalPeriod">Orbital Period [days]</label>
            <input id="orbitalPeriod" type="number" step="any" />
          </div>

          <!-- 6 
          <div class="field">
            <label for="transitEpoch">Transit Epoch [BKJD]</label>
            <input id="transitEpoch" type="number" step="any" />
          </div>-->

          <!-- 7 
          <div class="field">
            <label for="impactParameter">Impact Parameter</label>
            <input id="impactParameter" type="number" step="any" />
          </div>-->

          <!-- 8 -->
          <div class="field">
            <label for="transitDuration">Transit Duration [hrs]</label>
            <input id="transitDuration" type="number" step="any" />
          </div>

          <!-- 9 -->
          <div class="field">
            <label for="transitDepth">Transit Depth [ppm]</label>
            <input id="transitDepth" type="number" step="any" />
          </div>

          <!-- 10 -->
          <div class="field">
            <label for="planetaryRadius">Planetary Radius [Earth radii]</label>
            <input id="planetaryRadius" type="number" step="any" />
          </div>

          <!-- 11 -->
          <div class="field">
            <label for="equilibriumTemp">Equilibrium Temperature [K]</label>
            <input id="equilibriumTemp" type="number" step="any" />
          </div>

          <!-- 12 -->
          <div class="field">
            <label for="insolationFlux">Insolation Flux [Earth flux]</label>
            <input id="insolationFlux" type="number" step="any" />
          </div>

          <!-- 13 
          <div class="field">
            <label for="signalToNoise">Transit Signal-to-Noise</label>
            <input id="signalToNoise" type="number" step="any" />
          </div>-->

          <!-- 14 -->
          <div class="field">
            <label for="stellarTemp">Stellar Effective Temperature [K]</label>
            <input id="stellarTemp" type="number" step="any" />
          </div>

          <!-- 15 -->
          <div class="field">
            <label for="stellarGravity">Stellar Surface Gravity [log10(cm/s²)]</label>
            <input id="stellarGravity" type="number" step="any" />
          </div>

          <!-- 16 -->
          <div class="field">
            <label for="stellarRadius">Stellar Radius [Solar radii]</label>
            <input id="stellarRadius" type="number" step="any" />
          </div>

          <!-- 17 
          <div class="field">
            <label for="tfopwgDisposition">TFOPWG Disposition (CP | FP | KP | PC)</label>
            <input id="tfopwgDisposition" type="text" />
          </div>-->

          <!-- 18 
          <div class="field">
            <label for="transitMidpoint">Planet Transit Midpoint Value [BJD]</label>
            <input id="transitMidpoint" type="number" step="any" />
          </div>-->

          <!-- 19
          <div class="field">
            <label for="stellarDistance">Stellar Distance [pc]</label>
            <input id="stellarDistance" type="number" step="any" />
          </div> -->
        </div>

        <div class="actions">
          <button id="submit" class="btn-send" type="button">Send Data</button>
        </div>

        <div id="result" role="status" aria-live="polite"></div>
      </div>
    </div>

    <script>
      document.getElementById("submit").addEventListener("click", async () => {
        // collect values (strings) — accept "0"
        const inputs = {
          orbitalPeriod: document.getElementById("orbitalPeriod").value,
          transitDuration: document.getElementById("transitDuration").value,
          transitDepth: document.getElementById("transitDepth").value,
          planetaryRadius: document.getElementById("planetaryRadius").value,
          insolationFlux: document.getElementById("insolationFlux").value,
          equilibriumTemp: document.getElementById("equilibriumTemp").value,
          stellarTemp: document.getElementById("stellarTemp").value,
          stellarGravity: document.getElementById("stellarGravity").value,
          stellarRadius: document.getElementById("stellarRadius").value,
        };

        // validate: check for empty strings only (so "0" is allowed)
        for (let key in inputs) {
          if (inputs[key] === "" || inputs[key] === null) {
            alert("Please fill in all fields (field: " + key + ")");
            return;
          }
        }

        const resultDiv = document.getElementById("result");
        resultDiv.className = "";
        resultDiv.textContent = "Processing...";

        try {
          // Replace with your real backend endpoint
          const response = await fetch("/predict", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(inputs),
          });

          if (!response.ok) throw new Error("Server returned " + response.status);

          const data = await response.json();
          resultDiv.className = "success";
          resultDiv.innerHTML = "<strong>Result:</strong> " + (data.prediction ?? "No prediction received");
        } catch (err) {
          console.error(err);
          resultDiv.className = "error";
          resultDiv.innerHTML = "Error connecting to the model. Please try again.";
        }
      });
    </script>
  </body>
</html>
